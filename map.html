<!DOCTYPE html>
<html>

<head>
    <title>Interactive Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</head>

<body>
    <div id="map"></div>
    <script>
        // Initialize the map
        var map = L.map('map').setView([40, -100], 4);

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

        // Example points from CSV
        var points = [
            { lat: 40.7128, lng: -74.0060, description: "New York City" },
            { lat: 37.7749, lng: -122.4194, description: "San Francisco" },
        ];

        // Add markers with tooltips
        points.forEach(function (point) {
            L.marker([point.lat, point.lng])
                .bindTooltip(point.description)
                .addTo(map);
        });
        Papa.parse("data.csv", {
            download: true,
            header: true, // Treat the first row as the header
            complete: function (results) {
                var data = results.data;

                // Loop through each row in the CSV and add a marker
                data.forEach(function (row) {
                    if (row.Latitude && row.Longitude) {
                        L.marker([row.Latitude, row.Longitude])
                            .bindTooltip(row.Description, { permanent: false })
                            .addTo(map);
                    }
                });
            },
            error: function (err) {
                console.error("Error loading CSV file:", err);
            }
        });
    </script>
</body>

</html>